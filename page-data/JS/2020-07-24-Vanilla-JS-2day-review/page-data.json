{"componentChunkName":"component---src-templates-blog-post-js","path":"/JS/2020-07-24-Vanilla-JS-2day-review/","result":{"data":{"site":{"siteMetadata":{"title":"서지환의 블로그","author":"[Ji hwan]","siteUrl":"https://seojihwan.github.io","comment":{"disqusShortName":"https-seojihwan-github-io","utterances":"seojihwan/seojihwan.github.io"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"8d223159-adf2-5069-9fbb-862d983e0634","excerpt":"day 2: Clock div로 원 표현하기위해 height와 width를 같게 지정하고 border-radius값을 50%로 설정한다.  시침,분침,초침의 position은 absolute로 설정한다.\n부모의 position을 relative로 설정하고, 시침,분침,초침의 top 값을 50%로 설정하고 적절한 width 값과 left값을 설정하면 모든 침이 중심에서 9시방향을 가르키게 된다. w3shools링크 회전을 나타내기 위해서는 transform의 rotate…","html":"<h3 id=\"day-2-clock\" style=\"position:relative;\"><a href=\"#day-2-clock\" aria-label=\"day 2 clock permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>day 2: Clock</h3>\n<p>div로 원 표현하기위해 height와 width를 같게 지정하고 border-radius값을 50%로 설정한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.circle</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 250px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 250px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> solid<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-width</span><span class=\"token punctuation\">:</span> 15px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-color</span><span class=\"token punctuation\">:</span> #ffffff<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 50%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> inline-block<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 760px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADfUlEQVQ4y22SbUzVZRjG7+dPtj7Up1y1VUsNCRJMTSciTVYmNWLL5TQSbEMyKBBBaPKSBAyCAUF4PGQ0dBC1yVrRNKllL0jSyrbEycokaoUZIJidpiXy6zocv7j6cO3+P+fcz++57ut5zIqGuEbFP2IlUukwVv4LrmEcr/UiXsdlvDencB1TWMc/WLu0T2r7G9d6CWsJYPVjmOWe4H+VdxIvCK48q8ZJrPlPSZv8AVzLBdULIYjW5tN/r57Han8X8Jkv+Y+e/RqXO4AVnmaef4x1BwKk9QRY816AG3wTWN0oXtM41iRI0x/YKzqw/hxWrcNt48dco9TDeBn9WOa3JLSOkPXBJOG7R5i9a5wHOifI/zTALX7BakdxQUiDYHVaV8td+YiAa98npO6Z6jZ8iKX1MXfnIJldZ7ACjZ3Vp3xPK9vfmN14lvQDcvaS3FSNChyEjYVgxcrdEjuZ0SNvYUldeOt7sJRekn3fE1N5Uk5PEPZ8P9dl9nJT6RDRzZPU9F/idsVg+nYVgpYJViRYwSkBV7VgCa9hD74h6Nt4TxzE1n3E440DhBd+hT19FJd9nJvTPiGn7AzvHIJDw9PEnp/Gfr6C80/gtst97qAmOS5gbB0W24DF78Ie2ktY0n7s4S5WlRxhTaWAj/Uwa8sxbOt37Oz8i30907T/cIWIU3o+E+COXMS26FVsVs+mowIuLsPur8SW1wvqwyXskds2vMQOsv3fsGCb8kv5glkZAyTVTNDeN0VytyB7L3N97zSuXRezUS8j5TNNpvwtege28EVscQW2tFrgOlx8M7ZyNzcmdZDedIxU3yBP+Yco2D/Gap/yKpDKzuEqlWHxr9j6w1iyLjXpXQEjt2P3CrqgGIspEbgcW1aLF9eExfnluo3bUrqJzunl1kxltHkQL28Yl/9TaNRUjflol6Zqx1brYi0iF7snD4vMF7hQbksFVQRLa3HLG/Hk1GKVb7wuLfkgYSmKYMPn2JPSWr2IRGUer5hWqGelLtjmPofdLYVLQXjQbbScLlS2i6oEr8YtKsMt0SErfNr0ug5QjWsJgYJ1WX2od0mNgHelM6M5GYJmy62cRspp5AuCCxxVFHIfpd9iFMd9VaE6c9jLqso9piLUu0DT2R1p2J2bZqBuTpbc5gicE6oRAs3fis0LTqAapZyjtDFyx9Xvqwqu52+T8vgXfnWIUp8EfxgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/d96a49b9758d58184a5f05b1386a8b93/3c051/clock.png\"\n        srcset=\"/static/d96a49b9758d58184a5f05b1386a8b93/5a46d/clock.png 300w,\n/static/d96a49b9758d58184a5f05b1386a8b93/0a47e/clock.png 600w,\n/static/d96a49b9758d58184a5f05b1386a8b93/3c051/clock.png 760w\"\n        sizes=\"(max-width: 760px) 100vw, 760px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>시침,분침,초침의 position은 absolute로 설정한다.\n부모의 position을 relative로 설정하고, 시침,분침,초침의 top 값을 50%로 설정하고 적절한 width 값과 left값을 설정하면 모든 침이 중심에서 9시방향을 가르키게 된다.</p>\n<p><a href=\"https://www.w3schools.com/cssref/trycss3_transform-origin_inuse.htm\">w3shools링크</a></p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.circle > div</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 50%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 5px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform-origin</span><span class=\"token punctuation\">:</span> 100% 50%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span> transform 0.5s <span class=\"token function\">cubic-bezier</span><span class=\"token punctuation\">(</span>0.27<span class=\"token punctuation\">,</span> 1.57<span class=\"token punctuation\">,</span> 0.58<span class=\"token punctuation\">,</span> 1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>회전을 나타내기 위해서는 transform의 rotate를 이용한다.\n이때 기준점은 해당 element의 중심이 기본이기 때문에\ntransform-origin을 100% 50%로 설정하여, div의 오른쪽 중간지점(원점)을 중심으로 회전할 수 있도록 설정하였다.</p>\n<p>transition을 이용하여 침이 역동적으로 움직이게 할 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 296px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 129.39189189189187%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAA7DAAAOwwHHb6hkAAADDUlEQVRIx51VWY/aMBDO//8Vfa3Ul0p96EOlqqKteix0YRVguZZwLElYIAe57DhfPU4cQtndbjtoNHbG83lOYxScIb6zsDP78CT74xH29xs4jovZbI7pZILZdARrscTmfo25ZSHLOPI8lzKDEEKti6IAkaEX3V5PAkyxXC6x2+2UvN9sYNuSpXS3WxxDHxvbkfqDOmNZC3iHA7bbB4RBCIIyCIwzJm/KIQqhblQs14Xiot6XnmhdAfqRjqQmYyU9ceVtggukHkMhSqVg1Z4M5bfUy5TkSQ52lCGnMmSfgUUcvnXE8PVc8h2MOAywX68VYBacAHNW7StArVOAUQUYSsCYI1hFGL9dKDbAOcL5vHZbA2jSOaYLCOxvZIgsRTCZKThtXANXTJTsM/D0HFDnVztBbAiWIdrYdRvYti2rZ52BEsW7BHQr7RMWgyG78I50qspZkoAxrgA7nc4ZoCqQ9IIHOQI/wPerb/j0roX3rz6g3W7D7JkIvODUh467RZym6sPt7a1izsvG1UQVjx5itFotZCKFP4gwebPC3j1gZs5xez0Cy1gFKCcidB0FQM3s+349AQqsKOWvr10slovSc4hHC6JC5mkCf7VqtCYuKpx4KT5//FJ2QnHqBIpE5KIsiA45TlLE0iNSHo9HxHEsR3BWV49oMVrhutOt86naqDG/TWnQADIJyOT4EehoNMJ4PK6NiH622nA3bm30FFhdZaZmWWAwGKDb7aoc1kWR568kIHn+nGd1yE3ArXxRUllxMtKhRWGMmx8mykeEPwtWAzarqgz5yTA4BBjfTCrvxAXYxehpD4kJuCffxeFwWB+Ymndw1u6FN396duEh0Vw+Ev1+H4mcHJ3DB3uHJEqeDfMCkEKk3JmmiSiKFDfb5qVgZyHrcSNu5vAlYT4a8lPV+xd+ssr/S6fnq/KQpOd5qomDIFAPBTGtwzBUqaCC0YhSzuks5VsX8WxS1CMqgRzHUcb0N0mPLcn9fq+YQAhcX0qDQGs6ryNUgHSDvom8JEOSmmlPTPrmWutoTRcQ/waw5+dgaInzjgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/c15f645daeff761b8c3c5a59b96cbb66/b1a44/cubic-bezier.png\"\n        srcset=\"/static/c15f645daeff761b8c3c5a59b96cbb66/b1a44/cubic-bezier.png 296w\"\n        sizes=\"(max-width: 296px) 100vw, 296px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>개발자도구 에서 기본 옵션과 움직임을 설정할 수 있다.</p>\n<p>setInterval 함수를 이용해서 1초마다 각각의 transform style 속성값을 변경하여 변화하는 시계의 침을 표현할 수 있다.</p>\n<p>하지만 시,분,초가 0이 되는 시점에 deg값이 급변하므로 각각의 침의 움직임이 부자연스러운 것을 확인하였다. </p>\n<p><img src=\"/accadae9373bfb678f24e3d1e2bf17f6/clock.gif\" alt=\"image\"></p>\n<p>이를 해결하기 위해서 inline style 방식으로, 침이 12시를 가리키는 각도에서 transition 옵션을 제거해주었다. </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> secondHand <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.sec'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> minuteHand <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.min'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> hourHand <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.hour'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">setTransition</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">hand<span class=\"token punctuation\">,</span> degree</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>degree <span class=\"token operator\">===</span> <span class=\"token number\">90</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    hand<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transition <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    hand<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transition <span class=\"token operator\">=</span> <span class=\"token string\">'transform 0.5s cubic-bezier(0.27, 1.57, 0.58, 1)'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">setDate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> now <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> seconds <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> minutes <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> hours <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> secondsDegree <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>seconds <span class=\"token operator\">/</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">360</span> <span class=\"token operator\">+</span> <span class=\"token number\">90</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> minutesDegree <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>minutes <span class=\"token operator\">/</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">360</span> <span class=\"token operator\">+</span> <span class=\"token number\">90</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> hoursDegree <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>hours <span class=\"token operator\">/</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">360</span> <span class=\"token operator\">+</span> <span class=\"token number\">90</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">setTransition</span><span class=\"token punctuation\">(</span>secondHand<span class=\"token punctuation\">,</span> secondsDegree<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setTransition</span><span class=\"token punctuation\">(</span>minuteHand<span class=\"token punctuation\">,</span> minutesDegree<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setTransition</span><span class=\"token punctuation\">(</span>hourHand<span class=\"token punctuation\">,</span> hoursDegree<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  secondHand<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">rotate(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>secondsDegree<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">deg)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  minuteHand<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">rotate(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>minutesDegree<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">deg)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  hourHand<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">rotate(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>hoursDegree<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">deg)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span>setDate<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>시,분,초가 0으로 초기화 되지 않고 계속해서 늘어나는 방식을 사용할 수도 있었지만 숫자가 계속해서 커지기 때문에 사용하지 않았다.</p>\n<p><img src=\"/0ec2e5d29dbaf6f6618c47c066f80cfc/clock2.gif\" alt=\"image\"></p>","frontmatter":{"title":"[JS] Vanilla JavaScript day 2: Clock","date":"July 24, 2020"}}},"pageContext":{"slug":"/JS/2020-07-24-Vanilla-JS-2day-review/","previous":{"fields":{"slug":"/JS/2020-07-22-Vanilla-JS-1day-review/"},"frontmatter":{"title":"[JS] Vanilla JavaScript day 1: Drum Kit","category":"JS","draft":false}},"next":{"fields":{"slug":"/JS/2020-07-25-this/"},"frontmatter":{"title":"[JS] this","category":"JS","draft":false}}}}}