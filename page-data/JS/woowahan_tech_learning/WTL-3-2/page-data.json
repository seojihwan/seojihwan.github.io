{"componentChunkName":"component---src-templates-blog-post-js","path":"/JS/woowahan_tech_learning/WTL-3-2/","result":{"data":{"site":{"siteMetadata":{"title":"서지환의 블로그","author":"[Ji hwan]","siteUrl":"https://seojihwan.github.io","comment":{"disqusShortName":"https-seojihwan-github-io","utterances":"seojihwan/seojihwan.github.io"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"581033c7-de7c-5bd2-acb9-18ff1da4267e","excerpt":"Redux Saga & TS Boilerplate Saga는 Redux의 미들웨어이다. https://codesandbox.io/s/ordermonitor04-n51jrkq2wl?file=/src/index.tsx\n위의 주소에 있는 소스를 분석해보자  컨테이너와 컴포넌트 구분 컨테이너와 컴포넌트 구분을 통해 불필요한 리 렌더링을 막고 유지보수를 용이하게 할 수 있다. Redux를 사용할 때에는 컨테이너에서 앱의 상태를 관리하고 필요한 컴포넌트로 props…","html":"<h3 id=\"redux-saga--ts-boilerplate\" style=\"position:relative;\"><a href=\"#redux-saga--ts-boilerplate\" aria-label=\"redux saga  ts boilerplate permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redux Saga &#x26; TS Boilerplate</h3>\n<p>Saga는 Redux의 미들웨어이다.</p>\n<p><a href=\"https://codesandbox.io/s/ordermonitor04-n51jrkq2wl?file=/src/index.tsx\">https://codesandbox.io/s/ordermonitor04-n51jrkq2wl?file=/src/index.tsx</a>\n위의 주소에 있는 소스를 분석해보자</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 264px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 297.7272727272727%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA8CAIAAADpFA0BAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAFnElEQVRIx41XSW/bVhBWDwlgx5K4iDv5uD/uiyLJstHESdwYduPYTdI0QIGkQNECSQ49tmgPRQ7pobcWPfXY/tN+j5RV2ZYlDQWSIjmcmTffNzPsDESR797BXhAEnuNEUZQuy+BCcAt7PNaeq6raMRw/PjgxDOJ7XpxmxDJxb66pKIrWiGmarutalhWGIc4Nw9B1vUOi/PDHP2i1d3xydPL0rMwzjuNbg60yHrJtGwpJkvi+PxqNgiAghEC/Iw1Ert/NNMmUJUEc4Gn4ozW/RbfFRq66LUsSJ8kvqF47ZlLWk/E4zfKyqPIiw8PSNZEbwQlTVlRNI85AVqSLq5sIjDNlJxs++fivF2VFnumadvFuafV7ZspsVQwLkeKCuJCSjSzjKKvq0c9/xXuHUeBXVVWWhU3Iav3/LUPccqwTB7nTdCwzvJCwqpspI77+ne7R9/1Pv4xcOy+rJI4oDeUNLXNbtzi/4J3Y1DTHcQixgIHrUL2qjAOydfDuQ1BNfNuMopgCgUGYJHEQ+NINkc8tD2RZqc/fODS2ddXzfOg4jut5HrGsm4wvui1ztz/Z2T3rDR8TTbGI7boe0AtIW6a5dNkvKSuSyE1OhGzfd0icxOBAGASUUtsmLZgvZJmyJPB8eSCkUwKU6Vgsw2SbhcUDDeE//hmmCdosSZXM9/v3XvLDQ+o5aZoXRVECKwUDTJZmOGRZjt+c7Zcto5DQoejnhsqYwgQHRk62Q8LnlFxmmev2jr7r751XCa2GQ5jNC9gv67rO8iKiYZMzeTlIUBJEOxAtT5Fnb2PX2nqyuFBL4QnL3ZN3gGed0vHudDIa1XUFyykWIM/l1fBk/yxvYNiIfUZlQKcVVVlDDEXgup+/5+6/ykJ/OBrneRZFkXQzKy9ZFna2BcMRdaIqMsplu9jrKYnKoWj68a9/R7sHoUvKqmqSjBWm8kW5k6+Vt0t5DqcPTdtFkhm2TBOQhnXWRXihkdlheczC1q2dh69707M0ALsSBAxgYx/FwHkMX4IgDHxfUeQlMcMpIZmIXuY6BG0FlHQckArQZmcgKS56njt3/hq2977gh5+5pg5Cu54b+CE0EQL2eI45vcDta6yqHwnx2DGNNE0o85oCISGloCeoPbhcFZYpZ/uWrhLbYV3QMHBNbFrvSnhKsrB9u3v/VX90TF27qFA9Y9qmSlregxaKvqLS3QeGrhnyAPBoG+WK0nlV+fFPfybTB0ngDId3UQPyLAfGBhvCU+x1BTcVHOBZZM4OpNUd80rH2Okev+XuvQQx7k52UYEQ9mbEAKtUTVLUpjoxm0DSvNatJ8aTj//E+4cpDafTPfSpjVtsI4bro0trBqOELM0mkI1j7t3ZOX7bv/dV7NrV8G7WgGx1zIhrBhJ+Z4u3I870UAzQZlDoMWutnUzaLqk//OG3sBpT2wID8Vphg8mCKbduF0fP9SgDDcG+NmAB28qwZ8pAQ6+7PdbcTLVN247j2HVcdGlwWFppf7baUC4Uy5Y1yyaoH+BzSEOwv6n8K5TZNKTVp1/rUYq62VBfaSsWHF/nNiOGcv/9h2g4STxUzxr64jIO3+S2zG/d6qd7XDxWBoJumHojyrpp8gLbve3eo9f93dM09OrRKEtT1O4rs/cNykhsOpV0U5eEtkHN5+31IAGUt57/ImZ7dZ6WbBooUXaR6cVvhKXSIY3oUUG8ADrIMEYQsoEAwh0UOqSU/+b35PDZi/Oz12/enD59+uLZeV2VQTMQ3SS428EbMHPpbqAZbPZhAvuuazKxVghud0xZ/tbzIsNAZ0SVb6eBNM3iKJLXxoyVLSTRUDUEqrEPGTa14q3I89qPhg6miduvPqgeTSKKnogJBK0xTWJ8Zq3NVkdSdT7bV3QToRIbLdJDf3KbFreBMrDN91jZEsS2M4ltRxTXg+Q/OXF+drhGHMwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"directory3-2\"\n        title=\"directory3-2\"\n        src=\"/static/2967973443756b55db244a50214f9f18/e61aa/directory3-2.png\"\n        srcset=\"/static/2967973443756b55db244a50214f9f18/e61aa/directory3-2.png 264w\"\n        sizes=\"(max-width: 264px) 100vw, 264px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h4 id=\"컨테이너와-컴포넌트-구분\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%99%80-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EA%B5%AC%EB%B6%84\" aria-label=\"컨테이너와 컴포넌트 구분 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://www.zerocho.com/category/React/post/57e1428c11a9b10015e803aa\">컨테이너와 컴포넌트 구분</a></h4>\n<p>컨테이너와 컴포넌트 구분을 통해 불필요한 리 렌더링을 막고 유지보수를 용이하게 할 수 있다.</p>\n<p>Redux를 사용할 때에는 컨테이너에서 앱의 상태를 관리하고 필요한 컴포넌트로 props를 보내줄 수 있도록 설계해보자</p>\n<p>위의 소스는 React, Redux, Saga를이용해 성공횟수, 실패횟수, 에러발생률(가짜 데이터)을 화면에 나타내준다.\n<img src=\"/030c73af7016ad9cd8215ed87d414cf0/3-2.gif\" alt=\"3-2\"></p>\n<p>./index.tsx 파일부터 살펴보자\nJSX문법을 사용하기 위해서는 ts가 아닌 tsx확장자 명을 사용해야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Provider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-redux\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createStore<span class=\"token punctuation\">,</span> applyMiddleware <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"redux\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> StoreState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./types\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> reducer <span class=\"token keyword\">from</span> <span class=\"token string\">\"./reducers\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> createSagaMiddleware <span class=\"token keyword\">from</span> <span class=\"token string\">\"redux-saga\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> rootSaga <span class=\"token keyword\">from</span> <span class=\"token string\">\"./sagas\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">\"./App\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> sagaMiddleware <span class=\"token operator\">=</span> <span class=\"token function\">createSagaMiddleware</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> store<span class=\"token operator\">:</span> StoreState <span class=\"token operator\">=</span> <span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span>reducer<span class=\"token punctuation\">,</span> <span class=\"token function\">applyMiddleware</span><span class=\"token punctuation\">(</span>sagaMiddleware<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> rootElement<span class=\"token operator\">:</span> HTMLElement <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nsagaMiddleware<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>rootSaga<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Provider store<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>store<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Provider<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  rootElement\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><a href=\"https://redux-saga.js.org/docs/api/\">https://redux-saga.js.org/docs/api/</a>\ncreateSagaMiddleware()는 Saga 미들웨어를 생성한다.</p>\n<p>createStore를 통해 Redux에 미들웨어로 전달하면 Saga 미들웨어는 Redux 스토어에 연결된다.</p>\n<p>sagaMiddleware의 run함수에 제네레이터 함수인 rootSaga를 전달하여 실행해준다.</p>\n<p>Provider는 subscribe의 역할, store가 변하면 하위 컴포넌트에 데이터를 보내준다.</p>\n<p>하위 컴포넌트들은 명시적으로 어떤 데이터를 받을지를 connect를 통해 설정 가능하다.(모든 컴포넌트의 상태가 다 바뀌지 않도록)</p>\n<p>RootSaga인 generator 함수를 살펴보자\n./sagas/index.ts</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> fork<span class=\"token punctuation\">,</span> all<span class=\"token punctuation\">,</span> take<span class=\"token punctuation\">,</span> race<span class=\"token punctuation\">,</span> delay<span class=\"token punctuation\">,</span> put <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"redux-saga/effects\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getType <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"typesafe-actions\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Actions <span class=\"token keyword\">from</span> <span class=\"token string\">\"../actions\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">monitoringWorkflow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token function\">getType</span><span class=\"token punctuation\">(</span>Actions<span class=\"token punctuation\">.</span>startMonitoring<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> loop <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>loop<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">yield</span> <span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n        <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token function\">getType</span><span class=\"token punctuation\">(</span>Actions<span class=\"token punctuation\">.</span>fetchSuccess<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token function\">getType</span><span class=\"token punctuation\">(</span>Actions<span class=\"token punctuation\">.</span>fetchFailure<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> stoped <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">yield</span> <span class=\"token function\">race</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        waitting<span class=\"token operator\">:</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        stoped<span class=\"token operator\">:</span> <span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token function\">getType</span><span class=\"token punctuation\">(</span>Actions<span class=\"token punctuation\">.</span>stopMonitoring<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>stoped<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        loop <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">fork</span><span class=\"token punctuation\">(</span>monitoringWorkflow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>redux-saga에는 effect creator들이 있다.\n여기서 사용하는 fork, all ,take, race ,delay, put에 대해 알아보자</p>\n<h4 id=\"effect-creators\" style=\"position:relative;\"><a href=\"#effect-creators\" aria-label=\"effect creators permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://redux-saga.js.org/docs/api/#effect-creators\">effect creators</a></h4>\n<ul>\n<li>fork: generator function 또는 Promise를 반환하는 함수를 인자로 받고 non-blocking 으로 호출한다.\n따라서 해당 함수의 종료를 기다리는동안 미들웨어는 멈추지 않는다. (non-blocking)</li>\n<li>all: 여러 effects들을 병렬적으로 실행하고 모두 완료 될 때까지 기다린다.\nPromise.all과 유사하다. (effects에 따라 blocking or non-blocking)</li>\n<li>take: generator는 take(pattern) 의 pattern이 dispatch 될 때 까지 기다린다.\n전달 되는 액션 객체를 반환한다. (blocking)\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 625px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAbklEQVQI133JSw7DIAxF0SwCDM92DOFTQqREatX9r62dp+oZ3rukrfbj0vnCeGq/OD8ECZJR9rBmgYkW0q0kzsbBGqzUWszMObcQq8x3GjO3XaXHAOd/cN96GwtY0M/cx3m0tAqiZwQGcSQi/98HSEUS18ifJNkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"startMonitoring\"\n        title=\"startMonitoring\"\n        src=\"/static/b05bea821f4c836acce5227d1f479443/80d71/startMonitoring.png\"\n        srcset=\"/static/b05bea821f4c836acce5227d1f479443/5a46d/startMonitoring.png 300w,\n/static/b05bea821f4c836acce5227d1f479443/0a47e/startMonitoring.png 600w,\n/static/b05bea821f4c836acce5227d1f479443/80d71/startMonitoring.png 625w\"\n        sizes=\"(max-width: 625px) 100vw, 625px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\ntake(getType(Actions.startMonitoring) 반환 값</li>\n<li>race: all과 유사하게 병렬적으로 effects들을 실행하지만, 먼저 resolve되는 값만 반환한다. Promise.race와 유사하다.\n(blocking 이라고 문서에 써져 있지만 non-blocking인 effects들만 주어지는 경우에는 non-blocking 이라고 생각된다.) </li>\n<li>delay: 전달한 시간 만큼 기다렸다가. True 또는 설정한 값을 반환한다. (blocking)</li>\n<li>put: 액션을 dispatch한다. (non-blocking)\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 623px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAfklEQVQI142MWQrDMBBDfQivM/a4Hq9x6EILuf/REkpLfiOEBA8kQYnr/U3rhnML7eV5oouA0fIwxAjRY9LENwIKoGODyKVkRJRSCm0djE/qS0zZY7baKCWVPC3/efRJvhLWOWzPUHotOQT64WsSxxPmxdXHOvtoBcFaoy+Od3OPGFjJkv5cAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"fetchsuccess\"\n        title=\"fetchsuccess\"\n        src=\"/static/454851f77e32039e0dec2d4f0e415627/6114d/fetchsuccess.png\"\n        srcset=\"/static/454851f77e32039e0dec2d4f0e415627/5a46d/fetchsuccess.png 300w,\n/static/454851f77e32039e0dec2d4f0e415627/0a47e/fetchsuccess.png 600w,\n/static/454851f77e32039e0dec2d4f0e415627/6114d/fetchsuccess.png 623w\"\n        sizes=\"(max-width: 623px) 100vw, 623px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\nput({ type: getType(Actions.fetchSuccess) }) 반환 값</li>\n</ul>\n<p>effect creator에 대해 학습한 내용을 바탕으로 전체 내용을 다시 살펴보자.\nmonitoringWorkflow 제네레이터 함수는 startMonitoring이라는 action이 감지되면, fetchSuccess와 fetchFailure이라는 action을 200ms 단위로 발생시킨다.\nstopMonitoring이라는 액션이 발생하였을 경우에 stoped 값이 undefined가 아닌 @command/monitoring/stop 값이 될것이고 그 때 내부 while문에서 탈출할 수 있게된다. </p>\n<p>이 전체적인 cycle은 while문에 의해 계속해서 유지된다.<br>\n또한 fork를 통해 monitoringWorkflow를 실행하는 함수를 export하기 때문에 monitoringWorkflow함수는 미들웨어를 멈추게 하지 않는다.</p>\n<h4 id=\"typesafe-actions\" style=\"position:relative;\"><a href=\"#typesafe-actions\" aria-label=\"typesafe actions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://github.com/piotrwitek/typesafe-actions#createaction\">typesafe-actions</a></h4>\n<p>미리 dispatch action들을 정의 해놓고 typesafe-actions의 createAction과 getType을 이용하여 리덕스의 액션들을 쉽게 관리할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> fetchSuccess <span class=\"token operator\">=</span> <span class=\"token function\">createAction</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"@fetch/success\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">getType</span><span class=\"token punctuation\">(</span>Actions<span class=\"token punctuation\">.</span>fetchSuccess<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// \"@fetch/success\"</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Actions<span class=\"token punctuation\">.</span><span class=\"token function\">fetchSuccess</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// {type: \"@fetch/success\", payload: undefined, meta: undefined, error: undefined}</span></code></pre></div>","frontmatter":{"title":"[JS] 우아한 테크 러닝 3주차 - (2)","date":"September 21, 2020"}}},"pageContext":{"slug":"/JS/woowahan_tech_learning/WTL-3-2/","previous":{"fields":{"slug":"/JS/woowahan_tech_learning/WTL-2-2/"},"frontmatter":{"title":"[JS] 우아한 테크 러닝 2주차 - (2)","category":"JS","draft":false}},"next":{"fields":{"slug":"/JS/woowahan_tech_learning/WTL-3-1/"},"frontmatter":{"title":"[JS] 우아한 테크 러닝 3주차 - (1)","category":"JS","draft":false}}}}}