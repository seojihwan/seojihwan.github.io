{"componentChunkName":"component---src-templates-blog-post-js","path":"/Web-Performance/img/performance-1/","result":{"data":{"site":{"siteMetadata":{"title":"서지환의 블로그","author":"[Ji hwan]","siteUrl":"https://seojihwan.github.io","comment":{"disqusShortName":"https-seojihwan-github-io","utterances":"seojihwan/seojihwan.github.io"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"1ad5ff6e-c2ec-52f1-bcc2-2076ed4b525f","excerpt":"웹 성능 최적화 - (1) 왜 성능 최적화를 할줄 알아야 하는가? 이용자가 떠나지 않도록 하기 위해 (웹 사용성) 프론트 엔드 개발자로서 경쟁력 웹 성능 결정 요소 로딩성능 렌더링성능 로딩 / 렌더링 브라우저가 화면을 어떻게 그리는지 이해해야한다. 로딩 성능 최적화 이미지 사이즈 최적화 Code Split 텍스트 압축 렌더링 성능 최적화 bottleneck 코드 최적화(병목 현상을 일으키는 코드 제거) 분석 툴 chrome 개발자도구 네트워크 탭, performance 탭, auidt(Light…","html":"<h3 id=\"웹-성능-최적화---1\" style=\"position:relative;\"><a href=\"#%EC%9B%B9-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94---1\" aria-label=\"웹 성능 최적화   1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>웹 성능 최적화 - (1)</h3>\n<hr>\n<p>왜 성능 최적화를 할줄 알아야 하는가?</p>\n<ol>\n<li>이용자가 떠나지 않도록 하기 위해 (웹 사용성)</li>\n<li>프론트 엔드 개발자로서 경쟁력</li>\n</ol>\n<hr>\n<h3 id=\"웹-성능-결정-요소\" style=\"position:relative;\"><a href=\"#%EC%9B%B9-%EC%84%B1%EB%8A%A5-%EA%B2%B0%EC%A0%95-%EC%9A%94%EC%86%8C\" aria-label=\"웹 성능 결정 요소 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>웹 성능 결정 요소</h3>\n<ul>\n<li>로딩성능</li>\n<li>렌더링성능</li>\n</ul>\n<p><a href=\"https://ui.toast.com/fe-guide/ko_PERFORMANCE/\">로딩 / 렌더링</a></p>\n<p>브라우저가 화면을 어떻게 그리는지 이해해야한다.</p>\n<hr>\n<h4 id=\"로딩-성능-최적화\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EB%94%A9-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94\" aria-label=\"로딩 성능 최적화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로딩 성능 최적화</h4>\n<ul>\n<li>이미지 사이즈 최적화</li>\n<li>Code Split</li>\n<li>텍스트 압축</li>\n</ul>\n<hr>\n<h4 id=\"렌더링-성능-최적화\" style=\"position:relative;\"><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94\" aria-label=\"렌더링 성능 최적화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>렌더링 성능 최적화</h4>\n<ul>\n<li>bottleneck 코드 최적화(병목 현상을 일으키는 코드 제거)</li>\n</ul>\n<hr>\n<h4 id=\"분석-툴\" style=\"position:relative;\"><a href=\"#%EB%B6%84%EC%84%9D-%ED%88%B4\" aria-label=\"분석 툴 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>분석 툴</h4>\n<ul>\n<li>\n<p>chrome 개발자도구</p>\n<ul>\n<li>네트워크 탭, performance 탭, auidt(Light house)탭</li>\n</ul>\n</li>\n<li>webpack-bundle-analyzer</li>\n</ul>\n<hr>\n<h4 id=\"성능-분석\" style=\"position:relative;\"><a href=\"#%EC%84%B1%EB%8A%A5-%EB%B6%84%EC%84%9D\" aria-label=\"성능 분석 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>성능 분석</h4>\n<p>Lighthouse</p>\n<p>audit툴 에서 Lighthouse로 바뀜\n<img src=\"./img/lighthouse.png\" alt=\"lighthouse\"></p>\n<p>웹 페이지의 문제점과 가이드 제시</p>\n<p>Trace\n<img src=\"./img/trace.png\" alt=\"trace\"></p>\n<p>웹 페이지가 그려지는 모습을 시각화</p>\n<h4 id=\"opportunities\" style=\"position:relative;\"><a href=\"#opportunities\" aria-label=\"opportunities permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Opportunities</h4>\n<p>리소스 즉 로딩성능 최적화와 관련\n<img src=\"./img/opportunities.png\" alt=\"opportunities\"> </p>\n<h4 id=\"diagonostics\" style=\"position:relative;\"><a href=\"#diagonostics\" aria-label=\"diagonostics permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Diagonostics</h4>\n<p>페이지의 실행 관점 즉 렌더링 성능과 관련\n<img src=\"./img/diagonostics.png\" alt=\"diagonostics\"> </p>\n<h4 id=\"passed-auidts\" style=\"position:relative;\"><a href=\"#passed-auidts\" aria-label=\"passed auidts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Passed auidts</h4>\n<p>잘 적용된 항목들\n<img src=\"./img/passed_audits.png\" alt=\"passed_audits\"></p>\n<h4 id=\"runtime-settings\" style=\"position:relative;\"><a href=\"#runtime-settings\" aria-label=\"runtime settings permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Runtime Settings</h4>\n<p>검사 환경</p>\n<p><img src=\"./img/runtime_settings.png\" alt=\"runtime_settings\"></p>\n<p><img src=\"./img/image_example.png\" alt=\"image_example\"></p>\n<p>레티나 디스플레이는 화면에 더 많은 픽셀을 표현할 수 있기 때문에\n화면에 나타나는 2배정도의 이미지 사이즈를 사용하는게 적절</p>\n<p>이미지가 서버에 저장되어있는 static resource라면 직접 파일을 자를 수 있겟지만\napi를 통해 받아오는 경우는 어떻게 줄일 수 있을까?</p>\n<h4 id=\"cdn-contents-delivery-network\" style=\"position:relative;\"><a href=\"#cdn-contents-delivery-network\" aria-label=\"cdn contents delivery network permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CDN: Contents Delivery Network</h4>\n<p>물리적 거리의 한계를 극복하기 위해 사용자와 가까운 곳에 컨텐츠 서버를 두는 기술</p>\n<p>ex) 한국의 사용자가 미국의 서버에 있는 img파일을 다운받는데 시간이 많이 소요됨\n=> 미리 미국에 있는 서버에서 한국에 있는 서버로 img파일을 다운받고 사용자에게 전달하자</p>\n<h4 id=\"image-cdn\" style=\"position:relative;\"><a href=\"#image-cdn\" aria-label=\"image cdn permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Image CDN</h4>\n<p>image processing CDN</p>\n<p>ex) 1200 x 1200 의 이미지를 240 x 240으로 가공해서 사용자에게 보내줌\n이미지를 제공하는 API에서 옵션을 제공받거나 image CDN을 사용하는 방법이 있다.</p>\n<p>Minify JavaScript</p>\n<p>Reduce JavaScript execution time\n<img src=\"./img/execution_time.png\" alt=\"execution_time\">\n자동화 도구의 한계점: 어떤 코드 때문에 오래걸렷는지 알 수 없기 때문에 performance 탭을 사용</p>\n<h4 id=\"performance\" style=\"position:relative;\"><a href=\"#performance\" aria-label=\"performance permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Performance</h4>\n<p>페이지가 로드 되면서 실행되는 작업들을 타임라인과 차트 형태로 보여줌</p>\n<p><img src=\"./img/performance.png\" alt=\"performance\"></p>\n<p>Main에서 어떤 코드의 실행이 오래걸리는지 파악 가능하다.</p>\n<hr>\n<h4 id=\"bottleneck병목-현상-해결방안\" style=\"position:relative;\"><a href=\"#bottleneck%EB%B3%91%EB%AA%A9-%ED%98%84%EC%83%81-%ED%95%B4%EA%B2%B0%EB%B0%A9%EC%95%88\" aria-label=\"bottleneck병목 현상 해결방안 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bottleneck(병목 현상) 해결방안</h4>\n<p>병목 현상이 발생하는 코드를 찾았다면, 해당 알고리즘을 개선하거나 작업량을 줄이는 방법을 고려할 수 있다.</p>\n<hr>\n<h4 id=\"bundle-size-최적화\" style=\"position:relative;\"><a href=\"#bundle-size-%EC%B5%9C%EC%A0%81%ED%99%94\" aria-label=\"bundle size 최적화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>bundle size 최적화</h4>\n<p>자바스크립트(리소스) 다운 받는데 걸리는 시간이 길다\n=> 다운 받고 이후에 코드가 실행되기 때문에 화면이 나타나는데 시간이 오래걸리게 됨</p>\n<p>=> webpack bundle analyzer 사용해보기</p>\n<h5 id=\"cra에서의-해결방법\" style=\"position:relative;\"><a href=\"#cra%EC%97%90%EC%84%9C%EC%9D%98-%ED%95%B4%EA%B2%B0%EB%B0%A9%EB%B2%95\" aria-label=\"cra에서의 해결방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cra에서의 해결방법</h5>\n<p>npm install —save-dev cra-bundle-analyzer\nnpx cra-bundle-analyzer\n<img src=\"./img/bundle_analyzer.png\" alt=\"bundle_analyzer\"></p>\n<p>빌드 폴더에 분석 결과가 html파일로 생성된다.</p>\n<p>refractor라는 패키지가 많은 용량을 차지하고 있으므로 이를 해결해보자.</p>\n<p>package-lock.json에\n해당 모듈을 사용하기 위한 하위 모듈들이 명시됨\n<img src=\"./img/refractor.png\" alt=\"refractor\"></p>\n<p>refractor를 사용하는 react-syntax-highlighter는 블로그의 글에 대하여 코드의 block을 생성하는 라이브러리이다.\nview 페이지에서만 사용하기 때문에 code splitting을 통해 불필요한 리소스를 줄이고 초기 페이지의 로딩 성능을 개선가능하다.</p>\n<p><img src=\"./img/chunk_js.png\" alt=\"chunk_js\"></p>\n<h5 id=\"code-splitting\" style=\"position:relative;\"><a href=\"#code-splitting\" aria-label=\"code splitting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>code splitting</h5>\n<p>코드 분할</p>\n<p>bundel파일 하나로 모든 코드(모듈 포함)를 다운받기 때문에 로딩시간이 길어짐\n<code class=\"language-text\">불필요한 코드</code> 또는 <code class=\"language-text\">중복 코드</code> 없이 <code class=\"language-text\">적절한 사이즈</code>의 코드가 <code class=\"language-text\">적절한 타이밍</code>에 로드 될 수 있도록 하기</p>\n<p><a href=\"https://reactjs.org/docs/code-splitting.html\">https://reactjs.org/docs/code-splitting.html</a></p>\n<p>lazy를 통해 런타임에 동적으로 컴포넌트를 로드\n동적으로 로딩하기 때문에 컴포넌트가 로딩되는데 시간이 필요함</p>\n<p>Suspense를 통해 아직 컴포넌트가 로드 되지 않았을 경우에 로딩 화면을 만들어 줄 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Suspense<span class=\"token punctuation\">,</span> lazy <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Switch<span class=\"token punctuation\">,</span> Route <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./App.css'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> ListPage <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./pages/ListPage/index'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> ViewPage <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./pages/ViewPage/index'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"App\"</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Suspense fallback<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>Loading<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>ListPage<span class=\"token punctuation\">}</span> exact <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/view/:id\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>ViewPage<span class=\"token punctuation\">}</span> exact <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Suspense<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"./img/bundle_2.png\" alt=\"bundle_2\">\n번들파일이 둘로 나뉜 것을 확인할 수 있다.</p>\n<p>webpack의 코드 스플리팅 설정\n<a href=\"https://webpack.js.org/guides/code-splitting/\">https://webpack.js.org/guides/code-splitting/</a></p>\n<h4 id=\"텍스트-압축하기\" style=\"position:relative;\"><a href=\"#%ED%85%8D%EC%8A%A4%ED%8A%B8-%EC%95%95%EC%B6%95%ED%95%98%EA%B8%B0\" aria-label=\"텍스트 압축하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>텍스트 압축하기</h4>\n<p>GZIP, Deflate: 대표적인 텍스트 압축 알고리즘</p>\n<p>develop 환경과 build (실 서비스) 환경은 다름\n=> 파일의 크기가 2kb 이상인 파일들에 대하여 텍스트 압축을 적용하기</p>\n<p><img src=\"./img/content_encoding.png\" alt=\"content_encoding\"></p>","frontmatter":{"title":"[Performance] 웹 성능 최적화 - (1)","date":"September 03, 2020"}}},"pageContext":{"slug":"/Web-Performance/img/performance-1/","previous":{"fields":{"slug":"/Web-Performance/performance-1/"},"frontmatter":{"title":"[Performance] 웹 성능 최적화 - (1)","category":"Web-Performance","draft":false}},"next":{"fields":{"slug":"/JS/woowahan_tech_learning/WTL-1-2/"},"frontmatter":{"title":"[JS] 우아한 테크 러닝 1주차 - (2)","category":"JS","draft":false}}}}}