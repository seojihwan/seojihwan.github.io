{"componentChunkName":"component---src-templates-blog-post-js","path":"/Web-Performance/performance-2/","result":{"data":{"site":{"siteMetadata":{"title":"서지환의 블로그","author":"[Ji hwan]","siteUrl":"https://seojihwan.github.io","comment":{"disqusShortName":"https-seojihwan-github-io","utterances":"seojihwan/seojihwan.github.io"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"f4a9577d-fa32-5503-9a63-69f0c8e8cf13","excerpt":"애니메이션 최적화 Reflow, Repaint - 렌더링 성능 최적화 프레임이 유실되는 쟁크 현상 발생 브라우저 렌더링 과정 Critical Rendering Path 또는 Pixel Pipeline DOM + CSSOM > Render Tree > Layout > Paint > Composite\nDOM 트리  + CSSOM 트리\nhtml css 리소스를 다운받고 \ndom트리 + css object model…","html":"<h4 id=\"애니메이션-최적화\" style=\"position:relative;\"><a href=\"#%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EC%B5%9C%EC%A0%81%ED%99%94\" aria-label=\"애니메이션 최적화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>애니메이션 최적화</h4>\n<p>Reflow, Repaint - 렌더링 성능 최적화</p>\n<p>프레임이 유실되는 쟁크 현상 발생</p>\n<h4 id=\"브라우저-렌더링-과정\" style=\"position:relative;\"><a href=\"#%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EB%A0%8C%EB%8D%94%EB%A7%81-%EA%B3%BC%EC%A0%95\" aria-label=\"브라우저 렌더링 과정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>브라우저 렌더링 과정</h4>\n<p>Critical Rendering Path 또는 Pixel Pipeline</p>\n<p>DOM + CSSOM > Render Tree > Layout > Paint > Composite\nDOM 트리  + CSSOM 트리\nhtml css 리소스를 다운받고\ndom트리 + css object model로 변환</p>\n<p>이것들을 렌더 트리로 조합한여 렌더 트리 만듬</p>\n<p>레이아웃 페인트 컴포지트 단계를 거쳐 화면에 뿌려줌</p>\n<p>Render Tree\n각 요소의 컨텐츠와 스타일이 합쳐짐</p>\n<p>Layout\n위치, 크기를 계산\n어느 위치에 어떤크기의 요소가 있어야 될지를 계산함</p>\n<p>Paint\n레이아웃 위에 색 채워 넣음</p>\n<p>Composite\n각 레이어를 합성하는 단계</p>\n<p>완성된 화면에서 일부 스타일이 바뀔 경우\n변화된 내용을 가지고 브라우저 렌더링 과정이 다시 시작됨(Reflow)</p>\n<p>초당 60fps 으로 애니메이션이 동작하려면\n브라우저 렌더링 과정이 0.016초 정도안에 이루어져야함</p>\n<p>따라서 브라우저의 렌더링 속도가 늦는 경우는 해당 프레임이 생략되고 부자연스러운 애니메이션이 나타남</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 246px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 123.17073170731707%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACmUlEQVQ4y5WUbXOaQBDH+f5foO/6DWpfdNo3nek4sXHaaISIGgkIyMmjKCgHt6hAFy7RPFib7vyHOZb73S67C4IU6KKrSf7sue4CXfK0K0Xs6vIvc3x6hH4ubyY6mkBCWQ1G5mZqbk/S1uOHUL7VuqPFrUz6R7+xGi2WQ3slG8FQC8dCaZh0m5Rl9VyHQ1EcihJXjdXOor5hflCqWjXTmUUg3yFs0CThe7jqnYgeauNnPR5Qw36pqtVsxgjJdy/gk0EGaZIhfHI1MATBeVix5Z5+Jc27I+fmIZQUd7harbaNRVHED8o87zyskvv+tHun9XqT64klGZ6yXC4pxYe1FQ0cW9Z52DLJeDgxdQsT5gKAXWNZlhVFcQkeiIN2u02IldZG/cBfRxHGxOBhGB72+0uwoijT6RTjNHC6Xq83mw1f44KnHf0N9jzPMHTbtrE8WCRk8jzfN4Yn8p5T130JmyaHZVnudDqEEIyD2WKqcRzzamEWvNp1qzSt0vVHuNCNJ3h0c9OjCU3TDMMGQRCtI7xFHWEckuJBrbRZZvHIC0KTTVkWQeC7rkPpdptsUHEcZVmKKaPynOHMYd4QLjHTiszBsSEHwbdhbsS2lXo2uAtmk8whGd46uLZS9DQCp/Hj2l9AYIM9p3M9FmBXbhMGeZHvyldicHjrxP35vkqzXUJBwKkFYJj28cM4ClN962xUNe8CAvaAMXyl+gN8Zc1XdcYQxubh/Al1AwDO7uAjedaw+TgFp8ivHv9fZGA5QM4YirG6CuW/I3MYr6LU+/K11R90B4P+UBziCcc4l2Cs22Ff/vhstz6qnz7Mr3+Ov8kt/BHxKr4HLsR22vuedlp0OnF/L66wI++C8e1xWzN/1dOfsLpcbawlUn8AKZOLZqusjL0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"missed_frame\"\n        title=\"missed_frame\"\n        src=\"/static/cdcb15c53d53e0cd1ebb26cff2c9d191/92252/missed_frame.png\"\n        srcset=\"/static/cdcb15c53d53e0cd1ebb26cff2c9d191/92252/missed_frame.png 246w\"\n        sizes=\"(max-width: 246px) 100vw, 246px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n1개의 프레임 동안 정상적으로 reflow가 일어난 경우\n애니메이션이 부드럽게 진행되지만</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 664px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABbklEQVQoz41R2XKkIBTl/z8pz3mfTJJKWlAbW2RxG1sEW9agmaQ6bzl16nAv3K0ugPSiV//aqetlz0beMtpeUEMQVwMZOe4IX3oycVZDht95dWL4lJRXWXN+A86ZeR3HuTObsd67pokZDA1zwc161KuMIQbvA75EWMS8jOjQvAwQgW5oX+Ff0VMp5XrbLCExywLntKVv6LkbhZSLXpXFOOR5KAp/aKJFCAzDQOpaK621uhnjaBNhFgUXbcsYS7d61dt28xWORR7LlLZrokMQCN6Rmk6TvF5TB7M13MLCUiHagVFxnaSc1V62IiY/2wJ/auINlYDSXimrFrtqnwwtzbpYvRh9XC4yGU4ld9mftLRq3nZjsXJaAefMOWutSRpjSIjHEXeEg/fuPQJQB9K2kvp9seFY7x6fduy/jOD3cFKJ0+ulKvkFs7w4p69y37VD+NH53v3sDV/6x4f69DRiNP55yUCa+DfJd8P/h3f+AzklN0ScaPiSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"missed_frame_2\"\n        title=\"missed_frame_2\"\n        src=\"/static/fe0674aab272ef5cd93c6f851cc38a3d/31493/missed_frame_2.png\"\n        srcset=\"/static/fe0674aab272ef5cd93c6f851cc38a3d/5a46d/missed_frame_2.png 300w,\n/static/fe0674aab272ef5cd93c6f851cc38a3d/0a47e/missed_frame_2.png 600w,\n/static/fe0674aab272ef5cd93c6f851cc38a3d/31493/missed_frame_2.png 664w\"\n        sizes=\"(max-width: 664px) 100vw, 664px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n2개의 프레임 동안 1회만 reflow가 일어난 경우는 동일한 프레임을 2회 보여주기 때문에 애니메이션이 부자연스럽게 진행된다.</p>\n<p>width,height 를 변경하였을 경우<br>\nDOM + CSSOM > Render Tree > Layout > Paint > Composite (Reflow)</p>\n<p>color 변경한 경우 layout과정 생략 하기\nDOM + CSSOM > Render Tree  > Paint > Composite  (Repaint)</p>\n<h4 id=\"reflow-repaint-모두-피하기-gpu-도움받기\" style=\"position:relative;\"><a href=\"#reflow-repaint-%EB%AA%A8%EB%91%90-%ED%94%BC%ED%95%98%EA%B8%B0-gpu-%EB%8F%84%EC%9B%80%EB%B0%9B%EA%B8%B0\" aria-label=\"reflow repaint 모두 피하기 gpu 도움받기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reflow Repaint 모두 피하기 (GPU 도움받기)</h4>\n<p>transform, opacity속성 변경한 경우\nDOM + CSSOM > Render Tree > Composite</p>\n<p>따라서 Reflow를 일으키는 속성이 아닌 Repaint만 일으키는 속성 또는\ntransform을 일으키는 속성을 이용하면 더 부드러운 에니메이션 효과를 만들 수 있다.</p>\n<p>컴포넌트 lazy loading\nCode Splitting</p>\n<p>컴포넌트 preloading</p>\n<p>이미지 preloading</p>\n<p>크롬 Network 탭\n크롬 Performance 탭\nwebpack bundle analyzer</p>","frontmatter":{"title":"[Performance] 웹 성능 최적화 - (2) (작성중)","date":"September 03, 2020"}}},"pageContext":{"slug":"/Web-Performance/performance-2/","previous":{"fields":{"slug":"/Web-Performance/performance-1/"},"frontmatter":{"title":"[Performance] 웹 성능 최적화 - (1)","category":"Web-Performance","draft":false}},"next":{"fields":{"slug":"/JS/woowahan_tech_learning/WTL-1-2/"},"frontmatter":{"title":"[JS] 우아한 테크 러닝 1주차 - (2)","category":"JS","draft":false}}}}}