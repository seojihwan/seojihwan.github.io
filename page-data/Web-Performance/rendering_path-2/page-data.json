{"componentChunkName":"component---src-templates-blog-post-js","path":"/Web-Performance/rendering_path-2/","result":{"data":{"site":{"siteMetadata":{"title":"서지환의 블로그","author":"[Ji hwan]","siteUrl":"https://seojihwan.github.io","comment":{"disqusShortName":"https-seojihwan-github-io","utterances":"seojihwan/seojihwan.github.io"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"16fa5737-8b50-51d1-8301-4dc708494176","excerpt":"Rendering Path - 2 Rendring-Blocking CSS HTML,CSS는 렌더링 차단(blocking) 리소스다 즉, DOM, CSSOM이 생성될 때까지 브라우저는 컨텐츠를 렌더링하지 않는다. 미디어 쿼리를 통해 조건이 성립할 때에만 스타일시트가 다운되도록 설정할 수 있다. 우선순위가 낮더라도 조건을 성립하면 브라우저는 스타일시트를 다운받는다. Adding interactivity with JavaScript HTML 파서는 스크립트 태그를 만나면 DOM…","html":"<h2 id=\"rendering-path---2\" style=\"position:relative;\"><a href=\"#rendering-path---2\" aria-label=\"rendering path   2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rendering Path - 2</h2>\n<h3 id=\"rendring-blocking-css\" style=\"position:relative;\"><a href=\"#rendring-blocking-css\" aria-label=\"rendring blocking css permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rendring-Blocking CSS</h3>\n<p>HTML,CSS는 렌더링 차단(blocking) 리소스다</p>\n<p>즉, DOM, CSSOM이 생성될 때까지 브라우저는 컨텐츠를 렌더링하지 않는다.</p>\n<p>미디어 쿼리를 통해 조건이 성립할 때에만 스타일시트가 다운되도록 설정할 수 있다.</p>\n<p>우선순위가 낮더라도 조건을 성립하면 브라우저는 스타일시트를 다운받는다.</p>\n<h3 id=\"adding-interactivity-with-javascript\" style=\"position:relative;\"><a href=\"#adding-interactivity-with-javascript\" aria-label=\"adding interactivity with javascript permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adding interactivity with JavaScript</h3>\n<p>HTML 파서는 스크립트 태그를 만나면 DOM 생성 프로세스를 중지하고 자바스크립트 엔진에 제어 권한을 넘김</p>\n<p>스크립트를 실행하려는 경우 브라우저가 CSSOM을 다운로드하고 빌드하는 작업을 완료하지 않았다면 브라우저가 CSSOM을 생성할때 까지 스크립트 실행 및 DOM 생성 지연시킨다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>app.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">async</span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>async를 통해 스크립트가 참조되는 시점에 스크립트를 실행할 필요가 없음을 브라우저에게 알려줄 수 있다.</p>\n<h3 id=\"measuring-the-critical-renderging-path\" style=\"position:relative;\"><a href=\"#measuring-the-critical-renderging-path\" aria-label=\"measuring the critical renderging path permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Measuring the Critical Renderging Path</h3>\n<p>좋은 성능은 좋은 측정과 계측이 바탕이 된다.</p>\n<ul>\n<li>Ligth house를 통한 성능 측정: CRP</li>\n<li>Navigation Timing API 접근방식</li>\n</ul>\n<p>CRP 최적화의 기회를 파악하고 Navigation Timing API로 코드 작성 후 앱의 실제 성능 모니터링 하는 방법이 좋은 방식이라고 한다.</p>\n<p>Ligthhouse로 웹 앱 페이지 분석하기<a href=\"https://developers.google.com/web/tools/lighthouse\">https://developers.google.com/web/tools/lighthouse</a></p>\n<p>위에 대한 내용은 다음 글에서 다루기로 한다.</p>\n<p>Navigation Timing API와 여러 브라우저 이벤트를 조합해서 임의 페이지의 <code class=\"language-text\">실제</code> CRP를 캡처할 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 385px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACY0lEQVQoz21TW08aURD2/7808UFtKRq1bRrloTVpbBu1lUsUBAsC7n33sHfOXlj2vsvu0gFshJTJyWTOyXzzzcyZ2Zn/J2majkYjQRAkSeI4Lo6jJM38MAmiFM66585WsKqqgNR1HXQYhvCYZXkxn5sTP05mG+ACBPTygERxTNE0HI7nCYK0LCtMZkG84ARm0wlWkO3M67L0mTvTME0zMPK8ALtYZx6Ixg0h12m1Sik1Rq+z4zqHa4x2SylVSr0lle9/eLg2OFwFTcovIVfgH4R8ymgVZFRE82QolB/JUnv4gUAVyTofGecCPmixZwIutYanlHT2NCry/BV8ORSPKfWUkN+3uXdNcvem8+Znc6/eP+5LR130tsXsNshPrLbX6B0O0MdHfgPcRfhyIH5tc6V7qtx6LreIkyfh6JE+fCDLHarUIC4e2Fuoghvf0GqdlIv1tKH7luWOZOvzs7h/192rdw7uuguj1t5v9i8Ixbbcre1cgPOisKYBhXClyfzi8BWtX9HaNaP/5vC3ofzlnjZsL0kTx3Fc13OcKRgvX7XKwPUjw/YpXo+iZNXMWTqzJ75p+36QuEFqTyYcx4qiSFEUDN/GhMEHQvix7SHVhqsx8ZHm6NhECI11HQmCLMuaprEsC8MHw4sx/jdhS/xkGtrTQDWmECWMU2xYkiSCN7MUMHq93mAw6Pf7JElGUbQxYWmWY9t3vFA3XcsJoDagBRKe58EArSiKYRjAb5rmRtorcsBA8Y4bwgJ44WI9oEKghd0C5izLtnT7lXyWAy22PceLERIgQ4IgOp2O53nLvrzKyv8vaFtsiYcT29gAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"navigation_timing_api\"\n        title=\"navigation_timing_api\"\n        src=\"/static/c70177b3fb146b2239fa1202d5f12546/409e6/navigation_timing_api.png\"\n        srcset=\"/static/c70177b3fb146b2239fa1202d5f12546/5a46d/navigation_timing_api.png 300w,\n/static/c70177b3fb146b2239fa1202d5f12546/409e6/navigation_timing_api.png 385w\"\n        sizes=\"(max-width: 385px) 100vw, 385px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li>domLoading: 브라우저가 HTML 문서 바이트 파싱 시작</li>\n<li>dominteractive: 브라우저가 파싱을 완료하고 DOM 생성 완료</li>\n<li>domContentLoaded: blocking stylesheets이 없는상태 => 렌더링 트리 생성 가능(?)</li>\n<li>domComplete: 모든처리(렌더링 트리, 레이아웃, 페인트) 완료, 모든 리소스 다운로드 완료</li>\n<li>loadEvent: 페이지 최종단계, onload 이벤트 발생</li>\n</ul>\n<h3 id=\"analyzing-critical-rendering-path-performance\" style=\"position:relative;\"><a href=\"#analyzing-critical-rendering-path-performance\" aria-label=\"analyzing critical rendering path performance permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Analyzing Critical Rendering Path Performance</h3>\n<p>async를 사용하면 브라우저의 파서가 자바스크립트를 차단 하지않고 CSSOM생성과 같이 파싱된다.</p>\n<p>domContentLoaded 이벤트가 HTML이 파싱된 후 바로 실행된다.</p>\n<p>=> 이부분이 이해가 조금 안되는 점은 위의 설명에서는 렌더링 트리 생성이 가능해야 한다고 쓰여져 있지만 아직 CSSOM이 파싱되지 않은 시점이기 때문이다.</p>\n<p>어쨋든 렌더링 경로를 최적화할 때 서로 다른 리소스의 의존성, 중요도에 따라 최적의 전략을 찾아야 한다.</p>\n<h3 id=\"성능-패턴\" style=\"position:relative;\"><a href=\"#%EC%84%B1%EB%8A%A5-%ED%8C%A8%ED%84%B4\" aria-label=\"성능 패턴 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>성능 패턴</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 676px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.000000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA40lEQVQY06WP206DQBRF+f8/MuEBxZrGWrCJIBfpOOVamaEMZ4YZLi0Fn7Q+upLzspOVs7c2/YaxZhjHmxA4v1ymv2hCCKWUVKrvVHEIk8jN0HuZ4fF8VqrrZHs8BHHkHnGQJRFK9yiJ9vEHg3qR8zwnhFBKWwG+ZfrWw9ta//TsWW4AVAvh68rdmv7W9JznlWU+vtybG6Mo80Wer+97KeUwjOUJ3ACFKKY1h6ZJ01QITklRfmVVVXDR3Nb+3snm/wB8vQv0J9vYOE4UM1YTWmUJ9ne6Y99hzzgRvBg/1mvTP7gCvKVRf4KPOeMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"render_pattern_1\"\n        title=\"render_pattern_1\"\n        src=\"/static/a6ffd31b9694345bff22d40c4d476e08/9bb7a/render_pattern_1.png\"\n        srcset=\"/static/a6ffd31b9694345bff22d40c4d476e08/5a46d/render_pattern_1.png 300w,\n/static/a6ffd31b9694345bff22d40c4d476e08/0a47e/render_pattern_1.png 600w,\n/static/a6ffd31b9694345bff22d40c4d476e08/9bb7a/render_pattern_1.png 676w\"\n        sizes=\"(max-width: 676px) 100vw, 676px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>HTML마크업으로만 이루어진 경우</p>\n<p>HTML파일이 작을 경우 한 번의 네트워크 왕복으로 전체 문서 가져올 수 있음</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 879px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA50lEQVQY02WP226DMBBE+f9/qtSLSh6gIbRJaCAQRZRLwJjauzZgO25BqlJVHWkf9mHOzDjTNCmljFaUNG1d6mnUWl+N4Z+0vZRqlNoYo/UgoC5zAQyRc2BCorXW6boOEHtyScPneP3Q5MdxUgJ4tvPicFWdIhQCltd/f3ncevf+68pdPwU7f0Y6MxcRAcUmSv23uGp7QkhdV8V535QRp8XXIvtzf7WYpZQA4nguknNJejavAM6yJNxvvTzPQAyU0kFyzsg4cGuvv+Z/uDlhyegZusHBDZMoy+cu6cGLNncfp0BrdevyDeQ8FzxVcSRVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"render_pattern_2\"\n        title=\"render_pattern_2\"\n        src=\"/static/2905121554d0ae10e0ea38876ca3853c/bcb8c/render_pattern_2.png\"\n        srcset=\"/static/2905121554d0ae10e0ea38876ca3853c/5a46d/render_pattern_2.png 300w,\n/static/2905121554d0ae10e0ea38876ca3853c/0a47e/render_pattern_2.png 600w,\n/static/2905121554d0ae10e0ea38876ca3853c/bcb8c/render_pattern_2.png 879w\"\n        sizes=\"(max-width: 879px) 100vw, 879px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\nHTML을 파싱하는 중에 CSS파일이 필요함을 알고 요청을 보냄\n네트워크 최소 2번의 왕복 필요</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 892px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA2ElEQVQY03XPTU+EMBAGYP7/z9KLJqi7NkiA6na7CMWWfgjttpRSixdNjM9hkjnMOzNZCGFZlnVdJ8XZ0C3Ohm0zkxopsVft/arnT9JhyemsRiWo4lTIkXGqzZxZa6WURmsMi+p4xym5Wkdwg8qc9udZG9ohXB1aCIZzmeqlOcLTC2ieCe2zGKOzVmtToy4vIBMqaXHdng5mGuNui//Yh8M3771zTgjBOScDuX8ED0WD38kFlbC4Zf3rHrOln35kv5NSn9aKncxB/VSitv9IwxW4YcPb3yu+AKmwGL8hQOh5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"render_pattern_3\"\n        title=\"render_pattern_3\"\n        src=\"/static/9a34f47b04800aa4515f76bc04d5d802/1568e/render_pattern_3.png\"\n        srcset=\"/static/9a34f47b04800aa4515f76bc04d5d802/5a46d/render_pattern_3.png 300w,\n/static/9a34f47b04800aa4515f76bc04d5d802/0a47e/render_pattern_3.png 600w,\n/static/9a34f47b04800aa4515f76bc04d5d802/1568e/render_pattern_3.png 892w\"\n        sizes=\"(max-width: 892px) 100vw, 892px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n브라우저가 HTML을 파싱하는 중 두 리소스를 찾고(CSS와 JS) 동시에 요청함</p>\n<p>자바스크립트는 파서 차단 리소스(주요 리소스)\n자바스크립트가 CSSOM을 처리하는 것을 방지하기 위해 브라우저가 일시 중지 됨 (CSSOM빌드, 자바스크립트 실행 이후에 DOM의 빌드가 이루어짐)</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 881px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA/0lEQVQY001Q2W6DMBDk/3+oj02PBEQVAuVygZiQiNKGctjGYGxDahUlzUi7q1nt7KVdruj7Xghxo8Mw3FNKqZRyvkJllNeqqqK0Lz8zYL1E9rqtSzbyn+IYWuvYNXFb0X7IIfDNR//tGbpG7Og7z9St1yDxNMaY6opJF8Z7EEOEcVXXTfVVHEFbZmJkaso8ScG5FEIFwUdlbGRCcI1zTgguG+QnJ5DmdYO6rivyFEbbUxZ0f7dIyaVkk+TLwjdo92SeJ4wxQggT4vjJamNv3Q+YHhKws42Hvb9hA13q/sVLv0lJp3n5DSYYem5k6IXvfZ/PhyB8Xz1ltsMZuxf/Ag3JUFLn153CAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"render_pattern_4\"\n        title=\"render_pattern_4\"\n        src=\"/static/81e7c1a5de0a5704639932e5e625d7b8/96658/render_pattern_4.png\"\n        srcset=\"/static/81e7c1a5de0a5704639932e5e625d7b8/5a46d/render_pattern_4.png 300w,\n/static/81e7c1a5de0a5704639932e5e625d7b8/0a47e/render_pattern_4.png 600w,\n/static/81e7c1a5de0a5704639932e5e625d7b8/96658/render_pattern_4.png 881w\"\n        sizes=\"(max-width: 881px) 100vw, 881px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n페이지에 포함된 자바스크립트를 차단하지 않기 위해 async 속성 사용</p>\n<p>스크립트는 더이상 DOM 파싱하는 것을 막지 않고 CSSOM이 빌드되는 것을 기다림\n따라서 domContentLoaded 이벤트는 Build DOM 바로 뒤로 앞당겨짐</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 844px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA/klEQVQY01VQDW+CMBTk//8mE1DAKWAzMkCRgcBGKhusXYHy0QGrxSXukr7ca9/du1SaH0Ap7bqOk0m0wzA0dT39gd9UhPwwNvNmvLUSIaQoiqqqC/h2tNZHU4Zp0HY9+caBvfOB9vK81Sx1e1Bta+MZimMoPtiEjsEYk8Zx5NuoQBSn3umMhR1G6JpFHzDCJaQtbbu273mhvSBsuAWU+OFijFGJCPBC4EVZXlLafJVF8nq4nHb4M+KRl9iziL/Qu/g/+MvEN1/zPIe5qz+5qhY7TpwkZwBsWQ5Ms22axeguXox5GcVPIIT4NMze3bUS6nrmeUma+vu9vVpdHsS/4DJNmNlSM0cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"render_pattern_5\"\n        title=\"render_pattern_5\"\n        src=\"/static/8918b6e5ad9b133662c0ef12cef67825/33e10/render_pattern_5.png\"\n        srcset=\"/static/8918b6e5ad9b133662c0ef12cef67825/5a46d/render_pattern_5.png 300w,\n/static/8918b6e5ad9b133662c0ef12cef67825/0a47e/render_pattern_5.png 600w,\n/static/8918b6e5ad9b133662c0ef12cef67825/33e10/render_pattern_5.png 844w\"\n        sizes=\"(max-width: 844px) 100vw, 844px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n미디어 쿼리 조건에 의해 CSS 스타일시트가 필요하지 않은 경우\nDOM 생성이 완료되자마자 페이지 렌더링이 가능해짐</p>\n<p>하지만 위의 예는 상황에 따라 가능하다의 정도로 받아들여짐</p>\n<p>추가로 defer 태그는 DOM의 파싱이 끝난 이후에 자바스크립트를 실행한다.</p>\n<p>문서를 읽고 글을 작성해 보았지만 아직 모르는 개념이 많아 이해하지 못한 것 같다.</p>\n<p>async 와 defer를 지원하지 않는 브라우저들도 있지만, 일단 무조건적으로 script defer => script async => script를 사용하면 이점이 있지 않을까?? 라는 의문이 들었다.</p>\n<h3 id=\"sciprt-async-defer의-비교\" style=\"position:relative;\"><a href=\"#sciprt-async-defer%EC%9D%98-%EB%B9%84%EA%B5%90\" aria-label=\"sciprt async defer의 비교 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>sciprt, async, defer의 비교</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 816px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 104.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACQ0lEQVQ4y5VT207bQBDN//9B1T73vYWqKglrJ1AFktLykCrlJhSgkPiyF9uzN6/XnSUBKRBQGR2Px+s5a++cmQ6AvLtLGBft261jrZVKIaACKVVVwb3JKhhUD89N4zeQORfzRZKkWZKmeFss0izLs5ymKTqGV55TyljjN5GNMlUJ+Nl7SAmyaWzbYmrTeu+d867xSH2GQJ6ISZd1YxYRRoggu3PS7f2K49+ETL4fTKan58PZYY/1CCWP6NHekA6dcx3rrfZ6CdPqQsuDAzYaFYdjOI5P2M43evZHt7Vu1GNayPTGt76z+v0NJ2pxW71YuAperPbzJSxs06BvN9VonYz6YLUp40mSoVhv01kbU0IJEoqyBCWlVuhBBa9Qf6lw99rV4W/WcU9WVlcGYQDbJcROa6dNLRXq9EpFAnlaTCMR7Ym9JfpssDUbbF/tfboakIvR5eXN0e3xoOg/JoQc0R+LcZCqMEWiklSliNxkf8V8O7740p9tDW52v46vtj7PJj9Tm6dylYPAfKopdlDnlXp4PO31dVOU/yWVDw25Zqv1ED1FIGNJcRK4KObzBGv7Rqm0LgqcDJw+MMbY2i4N47pGH4D25JsrMjLzlHIqaMbyjGZJjo95xhktBEeU6OULzdMBDbSktGR5SVnFOHAwVDnhWmm9BAtQg6whBA9YdsjDSPJuzOOIR7GIuhl5/2Pnw9Huu1Hv43QnEoTwAHyLwKBP+5WtltV9KlVdN2en8vzMnJ6Yu1uzLl04rTOG7++LYZjnfy12q0AekOtrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"script_vs_async_vs_defer\"\n        title=\"script_vs_async_vs_defer\"\n        src=\"/static/b07e74f4fcf400e540ed2be027f229ce/b4098/script_vs_async_vs_defer.png\"\n        srcset=\"/static/b07e74f4fcf400e540ed2be027f229ce/5a46d/script_vs_async_vs_defer.png 300w,\n/static/b07e74f4fcf400e540ed2be027f229ce/0a47e/script_vs_async_vs_defer.png 600w,\n/static/b07e74f4fcf400e540ed2be027f229ce/b4098/script_vs_async_vs_defer.png 816w\"\n        sizes=\"(max-width: 816px) 100vw, 816px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h3 id=\"의문점-정리\" style=\"position:relative;\"><a href=\"#%EC%9D%98%EB%AC%B8%EC%A0%90-%EC%A0%95%EB%A6%AC\" aria-label=\"의문점 정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>의문점 정리</h3>\n<ul>\n<li>domContentLoaded의 정확한 역활</li>\n<li>domContentLoaded에서 CSSOM이 빌드되지 않은 경우(blocking CSS만 없는경우) 렌더 트리를 형성할 수 없지 않을까?</li>\n<li>script, async, defer 에서 defer이 제일 좋은 것 아닌가?</li>\n</ul>\n<p>출처:<a href=\"https://developers.google.com/web/fundamentals/performance/critical-rendering-path\">https://developers.google.com/web/fundamentals/performance/critical-rendering-path</a></p>\n<p><a href=\"https://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html\">https://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html</a></p>","frontmatter":{"title":"[Performance] 렌더링 경로 - (2)","date":"February 13, 2021"}}},"pageContext":{"slug":"/Web-Performance/rendering_path-2/","previous":{"fields":{"slug":"/Web-Performance/rendering_path-1/"},"frontmatter":{"title":"[Performance] 렌더링 경로 - (1)","category":"Web-Performance","draft":false}},"next":null}}}